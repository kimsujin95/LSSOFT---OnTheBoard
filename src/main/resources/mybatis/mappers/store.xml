<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="store">

	<!-- 매장 리스트 불러오기 -->
	<select id="list" resultType="com.otb.vo.StoreVo">
		<![CDATA[
			select store_no as storeNo,
				   store_name as storeName,
				   store_latitude as storeLat,
				   store_longitude as storeLng
			from store
		]]>
	</select>
	
	<!-- 매장 검색 리스트 불러오기 -->
	<select id="searchList" parameterType="String" resultType="com.otb.vo.StoreVo">
		<![CDATA[
			select store_no as storeNo,
				   store_name as storeName,
				   store_latitude as storeLat,
				   store_longitude as storeLng
			from store
		]]>
		<if test=" value != null and value != '' ">
		<![CDATA[
			where store_name like '%'||#{keyword}||'%'
		]]>
		</if>
	</select>

	<select id="getgrouplist" parameterType="int" resultType="com.otb.vo.UserVo">
		<![CDATA[
			select mg.user_no as userNo,
      			   u.user_nickname as userNickname
			from matching_group mg, users u
			where mg.user_no = u.user_no and
      			  mg.matching_no = #{matchingno}
		]]>
	</select>
	
	<select id="getDateInfo" parameterType="ReservationDateVo" resultType="ReservationTimeVo">
		<![CDATA[
			
		]]>
	</select>	

</mapper>